<form [formGroup]="form" (ngSubmit)="onSubmit()" class="customer-form">
  <h2 class="form-title">{{ formTitle() }}</h2>
  
  <!-- Indicateur d'état du formulaire (débogage) -->
  <div *ngIf="form.invalid && isSubmitted()" class="form-status-invalid">
    <strong>⚠️ Formulaire invalide</strong> - Veuillez corriger les erreurs ci-dessous
  </div>
  
  <!-- Prénom -->
  <div class="form-group">
    <label for="firstName">Prénom <span class="required">*</span></label>
    <input
      type="text"
      id="firstName"
      formControlName="firstName"
      placeholder="ex: Jean"
      aria-required="true"
      [class.is-invalid]="hasError('firstName', 'required') || hasError('firstName', 'minlength')"
    />
    <div class="error-messages">
      <div *ngIf="hasError('firstName', 'required')" class="error-item">
        Le prénom est requis
      </div>
      <div *ngIf="hasError('firstName', 'minlength')" class="error-item">
        Minimum 2 caractères
      </div>
    </div>
  </div>
  
  <!-- Nom -->
  <div class="form-group">
    <label for="lastName">Nom <span class="required">*</span></label>
    <input
      type="text"
      id="lastName"
      formControlName="lastName"
      placeholder="ex: Dupont"
      aria-required="true"
      [class.is-invalid]="hasError('lastName', 'required') || hasError('lastName', 'minlength')"
    />
    <div class="error-messages">
      <div *ngIf="hasError('lastName', 'required')" class="error-item">
        Le nom est requis
      </div>
      <div *ngIf="hasError('lastName', 'minlength')" class="error-item">
        Minimum 2 caractères
      </div>
    </div>
  </div>
  
  <!-- Email -->
  <div class="form-group">
    <label for="email">Email <span class="required">*</span></label>
    <input
      type="email"
      id="email"
      formControlName="email"
      placeholder="ex: jean.dupont@email.com"
      aria-required="true"
      [class.is-invalid]="hasError('email', 'required') || hasError('email', 'email')"
    />
    <div class="error-messages">
      <div *ngIf="hasError('email', 'required')" class="error-item">
        L'email est requis
      </div>
      <div *ngIf="hasError('email', 'email')" class="error-item">
        Format email invalide
      </div>
    </div>
  </div>
  
  <!-- Téléphone -->
  <div class="form-group">
    <label for="phone">Téléphone</label>
    <input
      type="tel"
      id="phone"
      formControlName="phone"
      placeholder="ex: 06 12 34 56 78"
      [class.is-invalid]="hasError('phone', 'invalidPhone')"
    />
    <div class="error-messages">
      <div *ngIf="hasError('phone', 'invalidPhone')" class="error-item">
        Format téléphone invalide
      </div>
    </div>
    <small class="hint">Format accepté : 0612345678 ou +33 6 12 34 56 78</small>
  </div>
  
  <!-- Statut -->
  <div class="form-group checkbox-group">
    <label>
      <input type="checkbox" formControlName="isActive" />
      <span>Client actif</span>
    </label>
  </div>
  
  <!-- Actions -->
<div class="form-actions">
  <button 
    type="submit" 
    [disabled]="isSaving() || form.invalid"
    class="btn-primary"
    [attr.aria-busy]="isSaving()"
  >
    <span *ngIf="!isSaving(); else savingSpinner">
      {{ submitButtonText() }}
    </span>
    <ng-template #savingSpinner>
      <span class="spinner" aria-hidden="true"></span> Enregistrement...
    </ng-template>
  </button>
  <button 
    type="button" 
    (click)="onCancel()" 
    [disabled]="isSaving()"
    class="btn-secondary"
  >
    Annuler
  </button>
  
  <!-- Lien retour liste (optionnel mais utile) -->
  <a routerLink="/customers" class="btn-link">
    ← Retour à la liste
  </a>
</div>
 

</form>